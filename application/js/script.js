function removeHeaderClasses(){$("header").removeClass("scroll__menu_mobile"),$("header > div.scroll__menu_element").removeClass("scroll__menu_element_fix")}function removeNavClasses(){$("nav").removeClass("scroll__menu_box"),$("nav > div.scroll__menu_element").removeClass("scroll__menu_element_fix")}function removeAllClasses(){removeHeaderClasses(),removeNavClasses()}function showContent(){$("html, body").stop().animate({scrollTop:0},1e3),location.href=$elemUrl}function openTelephoneMenu(){event.stopPropagation(),event.stopImmediatePropagation(),$(".overlay__menu_telephone_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("overlay__blur_hidden"),$("html, body").stop().animate({scrollTop:0},500)}function openCallbackMenu(){event.stopPropagation(),event.stopImmediatePropagation(),$(".overlay__content_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("blur"),$(".overlay__blur").toggleClass("overlay__blur_hidden")}function newyearHide(){$(".b-page_newyear").toggleClass("b-page__content_hide")}function mobileImages(e){for(var n=/.*mobile_.*/m,o=0;o<e.length;o++){if(n.exec(e[o].innerHTML))addCarouselElem(e[o].innerHTML)}}function bigImages(e){for(var n=/.*big_.*/m,o=0;o<e.length;o++){if(n.exec(e[o].innerHTML))addCarouselElem(e[o].innerHTML)}}function addCarouselElem(e){var n=$("div.lazy"),o=$("<img>",{src:e});$(n).append(o)}$(document).ready(function(){$(".nav_container > .nav__menu_list > li").on({mouseenter:function(){$(this).find(">ul").stop().slideToggle(300)},mouseleave:function(){$(this).find(">ul").stop().slideToggle(300)}}),$(".overlay__menu_container > .overlay__menu_nav > .nav__menu_list > li").on({click:function(){$(this).parent().find("ul").stop().slideUp(300),$(this).find("+ul").stop().slideToggle(300)}})}),$(document).ready(function(){$(document).ready(function(){window.matchMedia("screen and (min-width: 1131px)").matches?($(".header__callback_button").removeClass("mobile"),$(".header__callback_button").addClass("desktop")):window.matchMedia("screen and (max-width: 1130px)").matches?(removeNavClasses(),$(".header__callback_button").removeClass("desktop"),$(".header__callback_button").addClass("mobile")):console.log("error")}),$(window).on("resize",function(){window.matchMedia("screen and (min-width: 1131px)").matches?(removeHeaderClasses(),$(".header__callback_button").removeClass("mobile"),$(".header__callback_button").addClass("desktop")):window.matchMedia("screen and (max-width: 1130px)").matches?(removeNavClasses(),$(".header__callback_button").removeClass("desktop"),$(".header__callback_button").addClass("mobile")):removeAllClasses()}),$(window).on("scroll",function(){if(window.matchMedia("screen and (min-width: 1131px)").matches){$("nav").addClass("scroll__menu_box");var e=$(".scroll__menu_box").offset().top;$(this).scrollTop()>e?$("nav.scroll__menu_box > .scroll__menu_element").addClass("scroll__menu_element_fix"):$("nav.scroll__menu_box > .scroll__menu_element").removeClass("scroll__menu_element_fix")}else if(window.matchMedia("screen and (max-width: 1130px)").matches){$("header").addClass("scroll__menu_mobile");e=$(".scroll__menu_mobile").offset().top;$(this).scrollTop()>e?$("header.scroll__menu_mobile > .scroll__menu_element").addClass("scroll__menu_element_fix"):$("header.scroll__menu_mobile > .scroll__menu_element").removeClass("scroll__menu_element_fix")}else removeAllClasses()})}),$(document).ready(function(){$(this).on("click","li",function(e){$(this).hasClass("nav__menu_person")?($elemUrl="/persons",showContent()):$(this).hasClass("nav__menu_main")?($elemUrl="/",showContent()):$(this).hasClass("nav__menu_method")?($elemUrl="/methodology",showContent()):$(this).hasClass("nav__menu_centers")?($elemUrl="/centers",showContent()):$(this).hasClass("nav__menu_contacts")?($elemUrl="/contacts",showContent()):$(this).hasClass("nav__menu_priceServices")?($elemUrl="/price",showContent()):$(this).hasClass("nav__menu_priceIndividual")?($elemUrl="/individual",showContent()):$(this).hasClass("nav__menu_priceSale")?($elemUrl="/sales",showContent()):$(this).hasClass("nav__menu_problems")?($id=$(this).attr("id"),$elemUrl="/resolvable/problem/"+$id,showContent()):$(this).hasClass("nav__menu_additional")?($id=$(this).attr("id"),$elemUrl="/additional/service/"+$id,showContent()):$(this).hasClass("nav__menu_rehab")?($elemUrl="/additional/service/reabilitacionnye-zanyatiya-dlya-invalidov",showContent()):$(this).hasClass("nav__menu_equipment")?($elemUrl="/additional/service/prodazha-trenazherov",showContent()):$(this).hasClass("nav__menu_news")?($elemUrl="/news",showContent()):$(this).hasClass("nav__menu_reviews")?($elemUrl="/reviews",showContent()):$(this).hasClass("nav__menu_rules")?($elemUrl="/rules",showContent()):$(this).hasClass("nav__menu_vacancy")?($elemUrl="/vacancy",showContent()):$(this).hasClass("nav__menu_organizations")?($elemUrl="/organizations",showContent()):$(this).hasClass("nav__menu_radio")&&($elemUrl="/radio",showContent())})}),$(document).ready(function(){$(".header__menu_box button").on("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".overlay__menu_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("overlay__blur_hidden"),$("html, body").stop().animate({scrollTop:0},500),newyearHide()}),$(".overlay__menu_container .overlay__menu_buttonClose").on("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".overlay__menu_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("overlay__blur_hidden"),newyearHide()}),$(".header__callphone_box button").on("click",function(e){$(this).hasClass("mobile")?(openTelephoneMenu(),newyearHide()):$(this).hasClass("desktop")?(openCallbackMenu(),newyearHide()):console.log("irreplaceable screen size")}),$(".overlay__menu_telephone_container .overlay__menu_buttonClose").on("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".overlay__menu_telephone_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("overlay__blur_hidden"),newyearHide()}),$(".header__callback_box").on("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".overlay__menu_telephone_container").toggleClass("overlay__hide"),$(".overlay__content_container").toggleClass("overlay__hide")}),$(".overlay__content_container .overlay__content_buttonClose").on("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".overlay__content_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("overlay__blur_hidden"),newyearHide(),$(".header__callphone_box button.header__callback_button").hasClass("desktop")&&$(".overlay__blur").toggleClass("blur")})}),$(document).ready(function(){$(".overlay__content_form_elem").submit(function(){var e=$(".form__input_field_name").val(),n=$(".form__input_field_number").val();if(""==e||""==n)return alert("Пожалуйста, заполните все поля, чтобы мы могли Вам перезвонить"),!1;var o=this,t=$(this).serialize();return $.ajax({method:"POST",url:"/sendform",data:t}).done(function(e){alert(e),o.reset()}).fail(function(){alert("Ошибка заполнения данных")}),!1})}),function(){var e=$(".overlay__slider_container .overlay__slider_elem"),n=$("<div>",{class:"overlay__slider_nav",css:{display:"none"}}),o=$("<div>",{class:"slider__box"}),t=$("<div>",{class:"slider__box_button"}),a=$("<div>",{class:"slider__box_button"}),s=$("<div>",{class:"slider__box_img"}),l=$("<i>",{class:"fas fa-arrow-left slider__button_backward"}),r=$("<i>",{class:"fas fa-arrow-right slider__button_forward"}),i=$("<img>",{class:"slider__elem_img",src:""});$(n).append(o),$(t).append(l),$(a).append(r),$(s).append(i),$(o).append(t,s,a),$(e).prepend(n)}(),document.addEventListener("DOMContentLoaded",function(e){for(var s=document.getElementsByClassName("slider__elem_img"),t=[],l=-1,n=document.getElementsByClassName("content__article_img_elem"),o=0;o<n.length;o++)n[o].addEventListener("click",function(){r(this.parentNode.parentNode.getElementsByClassName("content__article_img_elem")),a(t,this)});function a(e,n){for(var o=n,t=(o.currentStyle||getComputedStyle(o,!1)).backgroundImage.slice(4,-2).replace(/.*\/images\//g,"/../assets/images/"),a=0;a<e.length;a++)t==e[a]&&(l=a);return s[0].src=e[l],l}function r(e){for(var n=0;n<e.length;n++){var o=(e[n].currentStyle||window.getComputedStyle(e[n],!1)).backgroundImage.slice(4,-2).replace(/.*\/images\//g,"/../assets/images/");t[n]=o}}document.getElementsByClassName("slider__button_forward")[0].addEventListener("click",function(){return l=function(e){return l+1>e.length-1?l=0:l+=1,l}(t),s[0].src=t[l],l}),document.getElementsByClassName("slider__button_backward")[0].addEventListener("click",function(){return l=function(e){return l-1<0?l=e.length-1:l-=1,l}(t),s[0].src=t[l],l})}),$(document).ready(function(){$(".slider__open").on("click",function(e){$(".overlay__slider_nav").css({display:"block"}),e.stopPropagation(),e.stopImmediatePropagation(),$(".overlay__slider_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("blur"),$("body").toggleClass("body_overflow")}),$(".overlay__slider_buttonClose").on("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),$(".overlay__slider_container").toggleClass("overlay__hide"),$(".overlay__blur").toggleClass("blur"),$("body").toggleClass("body_overflow")})}),$(document).ready(function(){var e;e=document.querySelectorAll(".content__carousel_img_src"),window.matchMedia("screen and (max-width: 910px)").matches&&mobileImages(e),window.matchMedia("screen and (min-width: 911px)").matches&&bigImages(e),$(".lazy").slick({lazyLoad:"ondemand",autoplaySpeed:3e3,infinite:!0,autoplay:!0,dots:!0,arrows:!1}),$(".person_corousel").slick({dots:!0,arrows:!1,infinite:!0,autoplay:!0,lazyLoad:"ondemand",autoplaySpeed:2e3,slidesToShow:3,slidesToScroll:1,speed:500,responsive:[{breakpoint:1131,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:911,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:711,settings:{slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0}}]}),$(".content__person_review_show").on("click",function(e){$that=$(this),$thatText=$that.text(),$that.text("Читать далее..."==$thatText?"Скрыть":"Читать далее..."),$that.next(".content__person_review_hide").toggleClass("content__person_review")})});var _createClass=function(){function t(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Balls=function(){function o(e,n){_classCallCheck(this,o),this.context=e,this.buffer=n}return _createClass(o,[{key:"setup",value:function(){this.gainNode=this.context.createGain(),this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.gainNode.gain.setValueAtTime(1,this.context.currentTime)}},{key:"play",value:function(){this.setup(),this.source.start(this.context.currentTime)}},{key:"stop",value:function(){var e=this.context.currentTime+1;this.gainNode.gain.exponentialRampToValueAtTime(.1,e),this.source.stop(e)}}]),o}(),Buffer=function(){function o(e,n){_classCallCheck(this,o),this.context=e,this.urls=n,this.buffer=[]}return _createClass(o,[{key:"loadSound",value:function(e,n){var o=new XMLHttpRequest;o.open("get",e,!0),o.responseType="arraybuffer";var t=this;o.onload=function(){t.context.decodeAudioData(o.response,function(e){t.buffer[n]=e,n==t.urls.length-1&&t.loaded()})},o.send()}},{key:"getBuffer",value:function(){var o=this;this.urls.forEach(function(e,n){o.loadSound(e,n)})}},{key:"loaded",value:function(){_loaded=!0}},{key:"getSound",value:function(e){return this.buffer[e]}}]),o}(),balls=null,preset=0,_loaded=!1,path="/../assets/newyear_garland/audio/",sounds=[path+"sound1.mp3",path+"sound2.mp3",path+"sound3.mp3",path+"sound4.mp3",path+"sound5.mp3",path+"sound6.mp3",path+"sound7.mp3",path+"sound8.mp3",path+"sound9.mp3",path+"sound10.mp3",path+"sound11.mp3",path+"sound12.mp3",path+"sound13.mp3",path+"sound14.mp3",path+"sound15.mp3",path+"sound16.mp3",path+"sound17.mp3",path+"sound18.mp3",path+"sound19.mp3",path+"sound20.mp3",path+"sound21.mp3",path+"sound22.mp3",path+"sound23.mp3",path+"sound24.mp3",path+"sound25.mp3",path+"sound26.mp3",path+"sound27.mp3",path+"sound28.mp3",path+"sound29.mp3",path+"sound30.mp3",path+"sound31.mp3",path+"sound32.mp3",path+"sound33.mp3",path+"sound34.mp3",path+"sound35.mp3",path+"sound36.mp3"],context=new(window.AudioContext||window.webkitAudioContext);function playBalls(){var e=parseInt(this.dataset.note)+preset;(balls=new Balls(context,buffer.getSound(e))).play()}function stopBalls(){balls.stop()}var buffer=new Buffer(context,sounds),ballsSound=buffer.getBuffer(),buttons=document.querySelectorAll(".b-ball_bounce");function ballBounce(e){var n=e;-1<e.className.indexOf(" bounce")||toggleBounce(n)}function toggleBounce(e){e.classList.add("bounce"),setTimeout(function(){e.classList.remove("bounce"),e.classList.add("bounce1"),setTimeout(function(){e.classList.remove("bounce1"),e.classList.add("bounce2"),setTimeout(function(){e.classList.remove("bounce2"),e.classList.add("bounce3"),setTimeout(function(){e.classList.remove("bounce3")},300)},300)},300)},300)}buttons.forEach(function(e){e.addEventListener("mouseenter",playBalls.bind(e)),e.addEventListener("mouseleave",stopBalls)});for(var array1=document.querySelectorAll(".b-ball_bounce"),array2=document.querySelectorAll(".b-ball_bounce .b-ball__right"),i=0;i<array1.length;i++)array1[i].addEventListener("mouseenter",function(){ballBounce(this)});for(i=0;i<array2.length;i++)array2[i].addEventListener("mouseenter",function(){ballBounce(this)});for(var l=["49","50","51","52","53","54","55","56","57","48","189","187","81","87","69","82","84","89","85","73","79","80","219","221","65","83","68","70","71","72","74","75","76","186","222","220"],k=["90","88","67","86","66","78","77","188","190","191"],a={},e=0,c=l.length;e<c;e++)a[l[e]]=e;for(var _e=0,_c=k.length;_e<_c;_e++)a[k[_e]]=_e;document.addEventListener("keydown",function(e){e.target;if(e.which in a){var n=parseInt(a[e.which]);(balls=new Balls(context,buffer.getSound(n))).play(),toggleBounce(document.querySelector('[data-note="'+n+'"]'))}});